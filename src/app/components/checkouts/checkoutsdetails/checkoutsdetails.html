<div class="checkout-container">
  <div class="checkout-card">
    <h2 class="text-center mb-3">ðŸ’³ Localiza Payment</h2>
    <p class="text-center text-muted">Fill your card's info</p>

    <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
      <div class="form-floating mb-4">
        <input
          type="text"
          formControlName="cardHolderName"
          class="form-control"
          id="cardHolderName"
          placeholder="Nome impresso no cartÃ£o"
        />
        <label for="cardHolderName">Card name</label>
        <div
          class="invalid-feedback"
          *ngIf="
            paymentForm.get('cardHolderName')?.touched && paymentForm.get('cardHolderName')?.invalid
          "
        >
          Name is obrigatory (mÃ­n. 5 letras)
        </div>
      </div>

      <div class="form-floating mb-4">
        <input
          type="text"
          formControlName="cardNumber"
          class="form-control"
          id="cardNumber"
          mask="0000 0000 0000 0000"
          placeholder="NÃºmero do cartÃ£o"
        />
        <label for="cardNumber">Card number</label>
        <div
          class="invalid-feedback"
          *ngIf="paymentForm.get('cardNumber')?.touched && paymentForm.get('cardNumber')?.invalid"
        >
          Type a valid card (16 digits)
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-6">
          <div class="form-floating">
            <input
              type="text"
              formControlName="expiryDate"
              class="form-control"
              id="expiryDate"
              mask="00/00"
              placeholder="MM/AA"
            />
            <label for="expiryDate">Expire Date (MM/AA)</label>
          </div>
        </div>
        <div class="col-6">
          <div class="form-floating">
            <input
              type="text"
              formControlName="cvv"
              class="form-control"
              id="cvv"
              mask="0000"
              placeholder="CVV"
            />
            <label for="cvv">CVV</label>
          </div>
        </div>
      </div>

      <div class="form-check mb-4">
        <input type="checkbox" formControlName="saveCard" class="form-check-input" id="saveCard" />
        <label for="saveCard" class="form-check-label">Save info. for future purchases</label>
      </div>

      <button
        type="submit"
        class="btn btn-success btn-lg w-100 rounded-pill shadow-sm"
        [disabled]="paymentForm.invalid || isSubmitting"
      >
        <span *ngIf="!isSubmitting"><i class="fas fa-lock"></i> Pagar Agora</span>
        <span *ngIf="isSubmitting">
          <span class="spinner-border spinner-border-sm" role="status"></span> Processando...
        </span>
      </button>
    </form>
  </div>
</div>
