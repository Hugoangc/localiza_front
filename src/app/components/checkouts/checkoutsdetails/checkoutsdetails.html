<div class="checkout-container">
  <div class="checkout-card">
    <h2 class="text-center mb-3">üí≥ Pagamento Seguro</h2>
    <p class="text-center text-muted">Preencha os dados do seu cart√£o</p>

    <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()">
      <div class="form-floating mb-4">
        <input
          type="text"
          formControlName="cardHolderName"
          class="form-control"
          id="cardHolderName"
          placeholder="Nome impresso no cart√£o"
        />
        <label for="cardHolderName">Nome impresso no cart√£o</label>
        <div
          class="invalid-feedback"
          *ngIf="
            paymentForm.get('cardHolderName')?.touched && paymentForm.get('cardHolderName')?.invalid
          "
        >
          Nome √© obrigat√≥rio (m√≠n. 5 letras)
        </div>
      </div>

      <div class="form-floating mb-4">
        <input
          type="text"
          formControlName="cardNumber"
          class="form-control"
          id="cardNumber"
          mask="0000 0000 0000 0000"
          placeholder="N√∫mero do cart√£o"
        />
        <label for="cardNumber">N√∫mero do cart√£o</label>
        <div
          class="invalid-feedback"
          *ngIf="paymentForm.get('cardNumber')?.touched && paymentForm.get('cardNumber')?.invalid"
        >
          Digite um n√∫mero de cart√£o v√°lido (16 d√≠gitos)
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-6">
          <div class="form-floating">
            <input
              type="text"
              formControlName="expiryDate"
              class="form-control"
              id="expiryDate"
              mask="00/00"
              placeholder="MM/AA"
            />
            <label for="expiryDate">Validade (MM/AA)</label>
          </div>
        </div>
        <div class="col-6">
          <div class="form-floating">
            <input
              type="text"
              formControlName="cvv"
              class="form-control"
              id="cvv"
              mask="0000"
              placeholder="CVV"
            />
            <label for="cvv">CVV</label>
          </div>
        </div>
      </div>

      <div class="form-check mb-4">
        <input type="checkbox" formControlName="saveCard" class="form-check-input" id="saveCard" />
        <label for="saveCard" class="form-check-label">Salvar cart√£o para futuras compras</label>
      </div>

      <button
        type="submit"
        class="btn btn-success btn-lg w-100 rounded-pill shadow-sm"
        [disabled]="paymentForm.invalid || isSubmitting"
      >
        <span *ngIf="!isSubmitting"><i class="fas fa-lock"></i> Pagar Agora</span>
        <span *ngIf="isSubmitting">
          <span class="spinner-border spinner-border-sm" role="status"></span> Processando...
        </span>
      </button>
    </form>
  </div>
</div>
